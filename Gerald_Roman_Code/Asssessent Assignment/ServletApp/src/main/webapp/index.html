<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Document</title>
<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css"
	integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB"
	crossorigin="anonymous">


<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>


<script
	src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
	integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
	crossorigin="anonymous"></script>
<script
	src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"
	integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T"
	crossorigin="anonymous"></script>

</head>
<body>

	<h1>Checking Jeopardy</h1>
	<input type="number" id="jpID" class="form-control col-4">
	<h5>Welcome to Jeopardy <span id="output"></span></h5>
	<button id="go" class="btn btn-primary">Enter!</button>
	
	<script>
		window.onload = function(){
			$('#go').on('click',function(){
				useJeopardy();
				doAjaxWithQuery();
			})
		}

		function useJeopardy() {
			var xhr = new XMLHttpRequest();
			xhr.onreadystatechange = function() {
				console.log(xhr.readyState);
				if (xhr.readyState == 4 && xhr.status == 200) {
					console.log(xhr.responseText);
					globalperson = JSON.parse(xhr.responseText);
					$('#output').html(JSON.parse(xhr.responseText).name);
				}

			}
			var id = $('#jpID').val();
			var url = `http://jservice.io/popular/${id}/`;
			//var url = `http://jservice.io/popular/1168`; 

			xhr.open('GET', url, true);

			xhr.send();
			console.log("SEND REQUEST" + xhr.responseText);
		}
		function doAjaxWithQuery() {
			console.debug('TESTING OUR JQUERY AJAX METHOD')
			globalJP = null;
			$.ajax({
				type : 'GET',
				url : `http://jservice.io/popular/${$('#jpID').val()}`,
				
				success : function(response, status) {
					console.log(response);
					
					console.log(status);
				},
				error : function(status, statusText) {
					console.log(`ERROR: ${status}: ${statusText}`);
				}
			})
		}
	</script>
</body>
</html>